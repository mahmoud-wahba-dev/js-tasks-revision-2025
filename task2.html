<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>task 2</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <style>
      .h_57 {
        height: 57px;
      }
      .h_50 {
        height: 50px;
      }
    </style>
  </head>

  <body>
    <div class="container text-center mt-5">
      <h1>Task 2</h1>
      <h3>آلة حاسبة تفاعلية</h3>
      <h2 class="mb-5">أدخل بياناتك</h2>

      <div>
        <h5>الهدف التعليمي</h5>
        <p>
          تعلم كيفية بناء آلة حاسبة تفاعلية باستخدام JavaScript، مع تطبيق مبادئ
          التحقق من المدخلات وعرض النتائج بشكل تفاعلي.
        </p>
      </div>
      <form id="form">
        <div class="mb-3">
          <input
            required
            placeholder="الرقم الاول"
            type="number"
            class="form-control h_57"
            id="first_num"
            aria-describedby="first_num"
          />
        </div>

        <div class="mb-3">
          <input
            required
            placeholder="الرقم الثاني"
            type="number"
            class="form-control h_57"
            id="second_num"
            aria-describedby="second_num"
          />
        </div>

        <div class="row row-cols-1 row-cols-sm-2 gy-3 flex-wrap">
          <div class="col">
            <button
              onclick="calculate('add')"
              id="add_btn"
              type="submit"
              class="btn btn-primary w-100 h_50"
            >
              + جمع
            </button>
          </div>
          <div class="col">
            <button
              onclick="calculate('subtract')"
              id="add_btn"
              type="submit"
              class="btn btn-primary w-100 h_50"
            >
              - طرح
            </button>
          </div>
          <div class="col">
            <button
              onclick="calculate('multiply')"
              id="add_btn"
              type="submit"
              class="btn btn-primary w-100 h_50"
            >
              <i class="fa-solid fa-xmark"></i> ضرب
            </button>
          </div>

          <div class="col">
            <button
              onclick="calculate('divide')"
              id="add_btn"
              type="submit"
              class="btn btn-primary w-100 h_50"
            >
              <i class="fa-solid fa-divide"></i>
              قسمه
            </button>
          </div>
        </div>
      </form>

      <div class="my-5 p-3 rounded-3">
        <p class="mb-0 alert" id="result_container"></p>
      </div>
    </div>

    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
      let showMsgBtn = document.getElementById("show_msg_btn");
      let resultContainer = document.getElementById("result_container");
      let form = document.getElementById("form");
      let result_var;
      form.addEventListener("submit", function (e) {
        e.preventDefault();
      });
      function calculate(key) {
        let firstNum = document.getElementById("first_num").value.trim();

        let secondNum = document.getElementById("second_num").value.trim();

        console.log(firstNum, secondNum);

        // or if (firstNum.legth || secondNum.legth)
        if (firstNum === "" || secondNum === "") {
          resultContainer.innerText = "من فضلك، أدخل أرقامًا صالحة.  ";
          resultContainer.classList.add("alert-danger");
          console.log(firstNum);
          console.log(firstNum.legth);

          return;
        } else {
          let firstNumber = Number(firstNum);
          let secondNumber = Number(secondNum);
          console.log("else");

          switch (key) {
            case "add":
              result_var = firstNumber + secondNumber;
              resultContainer.innerHTML = ` النتيحه : ${result_var} `;
              resultContainer.classList.add("alert-success");
              resultContainer.classList.remove("alert-danger");
              break;

            case "subtract":
              result_var = firstNumber - secondNumber;
              resultContainer.innerHTML = ` النتيحه : ${result_var} `;
              resultContainer.classList.add("alert-success");
              resultContainer.classList.remove("alert-danger");
              break;

            case "multiply":
              result_var = firstNumber * secondNumber;
              resultContainer.innerHTML = ` النتيحه : ${result_var}`;
              resultContainer.classList.add("alert-success");
              resultContainer.classList.remove("alert-danger");
              break;

            case "divide":
              if (secondNumber === 0) {
                resultContainer.innerText = "خطأ: القسمة على صفر غير مسموح بها";
                resultContainer.classList.add("alert-danger");
                return;
              }

              result_var = firstNumber / secondNumber;
              console.log(result_var);

              resultContainer.innerHTML = ` النتيحه : ${result_var} `;
              resultContainer.classList.add("alert-success");
              resultContainer.classList.remove("alert-danger");
              break;
            default:
              resultContainer.innerText = "عمليه غير مغروفه";
              break;
          }
        }
      }
    </script>
  </body>
</html>
